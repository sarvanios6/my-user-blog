(this["webpackJsonpmy-user-blog"]=this["webpackJsonpmy-user-blog"]||[]).push([[0],{42:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(21),s=n.n(i),o=(n(42),n(11)),l=n(6),j=function(){var e=Object(l.e)();return Object(c.useEffect)((function(){localStorage.getItem("formData")?e.push(z.HOME):e.push(z.LOGIN)}),[]),Object(a.jsx)("div",{children:"Loading..."})},d=n(54),u=n(55),h=n(33),b=n(59),O=n(24),x=n(29),m=n(30),f=n(36),p=n(35),v=n(17),g=n(31),S=n(58),y=n(53),w=n(60),L="[A-Za-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",E=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).resetForm=function(){a.formRef.current.resetValidationState(!1)},a.handleChange=function(e){var t,n=e.target,c=n.value,r=n.name;a.setState((t={},Object(O.a)(t,r,c),Object(O.a)(t,"password","email"===r&&null),t)),c.match(L)&&(a.setState({fetching:!0}),fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){var t=e.find((function(e){return e.email.toLowerCase()===c.toLowerCase()}));t&&a.resetForm(),a.setState({fetching:!1,result:e,password:t?t.username:null})}),(function(e){a.setState({fetching:!1,password:null,error:e})})))},a.handleSubmit=function(e,t,n){e.preventDefault(),localStorage.setItem("formData",t),a.props.history.push({pathname:"/home",state:{result:a.state.result}})},a.handleErrorSubmit=function(e,t,n){console.error(n)},a.formRef=r.a.createRef(),a.state={email:"",password:"",fetching:!1,error:null,result:[]},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,c=e.fetching;return Object(a.jsxs)(v.ValidationForm,{ref:this.formRef,onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit,children:[Object(a.jsxs)(g.a,{children:[Object(a.jsx)(S.a.Label,{children:"Email"}),Object(a.jsx)(v.TextInput,{name:"email",id:"email",required:!0,value:t,pattern:L,validator:function(){return null!==n},errorMessage:{required:"Email id is required",pattern:"Please enter a valid email",validator:"Entered email id not in the list"},onChange:this.handleChange}),Object(a.jsx)(S.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(S.a.Label,{children:"Password"}),Object(a.jsx)(v.TextInput,{name:"password",id:"password",required:!0,readOnly:!0,value:n,onChange:this.handleChange})]}),Object(a.jsxs)(S.a.Row,{children:[c&&Object(a.jsx)(y.a,{animation:"border",variant:"primary"}),!c&&Object(a.jsx)(w.a,{type:"submit",className:"login-button",children:"Login"})]})]})}}]),n}(c.Component),B=(n(50),function(){var e=Object(l.e)();return Object(a.jsx)("div",{className:"fixed-background",children:Object(a.jsx)(d.a,{children:Object(a.jsx)(u.a,{className:"card-center ",children:Object(a.jsx)(h.a,{md:7,children:Object(a.jsx)("div",{className:"card imageaside",children:Object(a.jsx)("div",{className:"card-horizontal ",children:Object(a.jsx)(b.a.Body,{children:Object(a.jsx)(E,{history:e})})})})})})})})}),C=function(){var e=Object(l.e)();return Object(a.jsxs)("div",{style:{float:"right",marginRight:"20px"},children:[e.location.pathname!==z.HOME&&Object(a.jsx)(w.a,{onClick:function(){return e.push(z.HOME)},variant:"link",children:"Home"}),Object(a.jsx)(w.a,{onClick:function(){localStorage.removeItem("formData"),e.push(z.LOGIN)},variant:"outline-danger",children:"LogOut"})]})},N=function(){return Object(a.jsxs)("div",{style:{marginTop:"3%",textAlign:"center"},children:[Object(a.jsx)(C,{}),Object(a.jsx)(o.b,{style:{margin:"0 2% "},to:"/users",children:"Users"}),Object(a.jsx)(o.b,{to:"/blogs",children:"Blogs"})]})},I=n(25),D=n.n(I),T=n(34),k=n(14),G=n(56),R=n(32),F={cursor:"pointer",height:"16rem",width:"20rem",overflow:"hidden",textOverflow:"ellipse",boxShadow:"0 1px 2px 0 rgba(0,0,0,.15), 0 1px 3px 1px rgba(0,0,0,.15)"},H=function(){var e=Object(l.e)(),t=Object(c.useState)([]),n=Object(k.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)([]),o=Object(k.a)(s,2),j=o[0],O=o[1],x=Object(c.useState)([]),m=Object(k.a)(x,2),f=m[0],p=m[1];return Object(c.useEffect)((function(){(function(){var e=Object(T.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){i(e)}),(function(e){console.log({error:e})}));case 2:return e.next=4,fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){O(e)}),(function(e){console.log({error:e})}));case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsxs)(d.a,{children:[Object(a.jsx)(C,{}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(h.a,{md:10,sm:7,xs:15,children:[Object(a.jsx)("label",{htmlFor:"basic-url",children:"Search"}),Object(a.jsx)(G.a,{className:"mb-3",children:Object(a.jsx)(R.a,{placeholder:"Search by author name and blog title","aria-label":"Search","aria-describedby":"basic-addon1",onChange:function(e){var t=e.target.value;return p(t)}})})]})}),Object(a.jsxs)(u.a,{children:[null===r||void 0===r?void 0:r.filter((function(e){var t,n=e.title,a=e.userId;return n.includes(f)||(null===j||void 0===j||null===(t=j.find((function(e){return e.name.includes(f)})))||void 0===t?void 0:t.id)===a})).map((function(t,n){return Object(a.jsx)(h.a,{onClick:function(){return e.push({pathname:"".concat(z.BLOGS,"/").concat(t.id),state:{blog:t}})},children:Object(a.jsx)(b.a,{style:F,children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Title,{children:t.title}),Object(a.jsx)(b.a.Text,{children:t.body})]})})},n)})),0===(null===r||void 0===r?void 0:r.length)&&Object(a.jsx)("div",{children:"No Data"})]})]})},M=n(57),A=function(e){var t=e.location.state.blog,n=Object(l.e)();return Object(c.useEffect)((function(){!t&&n.push(z.BLOGS)})),Object(a.jsxs)(d.a,{children:[Object(a.jsx)(o.b,{to:z.BLOGS,children:"Go Back"}),t&&Object(a.jsxs)(M.a,{style:{marginTop:"20px"},children:[Object(a.jsx)("h1",{children:t.title}),Object(a.jsx)("p",{children:t.body})]})]})},q=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)([]),s=Object(k.a)(i,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return null===e||void 0===e?void 0:e.json()})).then((function(e){r(e)}),(function(e){console.log({error:e})}))}),[]),Object(a.jsxs)(d.a,{children:[Object(a.jsx)(C,{}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(h.a,{md:10,sm:7,xs:15,children:[Object(a.jsx)("label",{htmlFor:"basic-url",children:"Search"}),Object(a.jsx)(G.a,{className:"mb-3",children:Object(a.jsx)(R.a,{placeholder:"Search by name","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){var t=e.target.value;return l(t)}})})]})}),Object(a.jsxs)(u.a,{children:[null===n||void 0===n?void 0:n.filter((function(e){var t=e.name;return!o||t.includes(o)})).map((function(e,t){var n=e.name,c=e.username,r=e.email,i=e.address.city,s=e.company.name,o=e.website;return Object(a.jsx)(h.a,{children:Object(a.jsx)(b.a,{style:F,children:Object(a.jsxs)(b.a.Body,{children:[Object(a.jsx)(b.a.Title,{children:n}),Object(a.jsx)(b.a.Subtitle,{className:"mb-2 text-muted",children:c}),Object(a.jsx)(b.a.Text,{children:r}),Object(a.jsx)(b.a.Text,{children:i}),Object(a.jsx)(b.a.Text,{children:s}),Object(a.jsx)(b.a.Link,{target:"_blank",href:"http://www.".concat(o),b:!0,children:o})]})})},t)})),0===(null===n||void 0===n?void 0:n.length)&&Object(a.jsx)("div",{children:"No Data"})]})]})},z={DASHBOARD:"/",HOME:"/home",LOGIN:"/Login",USERS:"/users",BLOGS:"/blogs",BLOGS_ID:"/blogs/:id"},P=function(){return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(l.a,{exact:!0,path:z.DASHBOARD,component:j}),Object(a.jsx)(l.a,{path:z.LOGIN,component:B}),Object(a.jsx)(l.a,{exact:!0,path:z.HOME,component:N}),Object(a.jsx)(l.a,{exact:!0,path:z.USERS,component:q}),Object(a.jsx)(l.a,{exact:!0,path:z.BLOGS,component:H}),Object(a.jsx)(l.a,{exact:!0,path:z.BLOGS_ID,component:A})]})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),U()}},[[52,1,2]]]);
//# sourceMappingURL=main.498bbdea.chunk.js.map